@using TestProject.Extentions@model PaginatedList<TestProject.Models.Trip>@{    ViewData["Title"] = "Index";}<h1>Пътешествия</h1><p>    <a asp-action="Create">Създай ново пътешествие</a></p><!-- Combined Search and Sort Form --><form asp-action="Index" method="get" id="tripSearchForm">    <input type="hidden" name="returnUrl" value="@ViewBag.ReturnUrl" />    <div class="form-row">    <!-- Sorting Dropdown -->    <div class="form-group">        <select name="sortOrder"                asp-items="@(new SelectList(ViewBag.SortOptions as IEnumerable<SelectListItem>, "Value", "Text", ViewBag.CurrentSortOrder))"                onchange="this.form.submit()"                class="form-control">        </select>    </div>        <div class="form-group col-md-4">            <label>Стартираща позиция:</label>            <input type="text"                   name="startPosition"                   value="@ViewBag.CurrentStartPosition"                   class="form-control" />        </div>        <div class="form-group col-md-4">            <label>Дестинация:</label>            <input type="text"                   name="destination"                   value="@ViewBag.CurrentDestination"                   class="form-control" />        </div>        <div class="form-group col-md-2">            <button type="submit" class="btn btn-sm btn-primary">Потърси</button>            <button type="button" class="btn btn-sm btn-secondary" onclick="clearSearch()">Изчисти</button>        </div>    </div></form> <partial name="_TripTablePartial" model="Model" /><!-- Previous Button -->@if (Model.HasPreviousPage){    <a asp-action="Index"       asp-route-startPosition="@ViewBag.CurrentStartPosition"       asp-route-destination="@ViewBag.CurrentDestination"       asp-route-sortOrder="@ViewBag.CurrentSortOrder"       asp-route-pageNumber="@(Model.PageIndex - 1)"       class="btn btn-default">        Предишна    </a>}else{    <button disabled class="btn btn-default">Предишна</button>}<!-- Page Numbers -->@for (var i = 1; i <= Model.TotalPages; i++){    <a asp-action="Index"       asp-route-pageNumber="@i"       asp-route-startPosition="@ViewBag.CurrentStartPosition"       asp-route-destination="@ViewBag.CurrentDestination"       asp-route-sortOrder="@ViewBag.CurrentSortOrder"       class="btn @(i == Model.PageIndex ? "btn-primary" : "btn-default")">        @i    </a>}<!-- Next Button -->@if (Model.HasNextPage){    <a asp-action="Index"       asp-route-startPosition="@ViewBag.CurrentStartPosition"       asp-route-destination="@ViewBag.CurrentDestination"       asp-route-pageNumber="@(Model.PageIndex + 1)"       asp-route-sortOrder="@ViewBag.CurrentSortOrder"       class="btn btn-default">        Следваща    </a>}else{    <button disabled class="btn btn-default">Следваща</button>}@section Scripts {    <script>        function clearSearch() {            // Clear only search fields            document.querySelector('input[name="startPosition"]').value = '';            document.querySelector('input[name="destination"]').value = '';            // Submit the form to refresh            document.getElementById("tripSearchForm").submit();        }    </script>}